# CELL STAGE

## OVERVIEW

The starting stage for the player. Starting off as a single-celled organism, the player will need to gather resources and evolve in order to progress to the next stage.
The player will also get choices that will affect their evolution path, leading to different abilities and traits.

---

## Resources

-   ATP - Energy
-   Nutrients - Food
-   Biomass - Building Material
-   DNA - Research Material
-   Waste - Pollutant

**Notes:**
There is a minor passive generation of ATP to prevent softlocks, `0.05 ATP per second`.
The default max capacity for all resources, except Waste, is 100, but can be increased through buildings and upgrades.
Waste has no effect on generation rates, but increases the cost of buildings and upgrades, and caps out at 500.

---

## Manual Actions

-   Absorb Nutrients: Click to absorb nutrients from the environment.
    -   Costs 1 ATP per click.
-   Burn Nutrients: Convert absorbed nutrients into ATP for energy, and minor amounts of biomass.
    -   Generates 3 ATP and 0.2 Biomass per click.

---

## Buildings / Organelles

-   **Cell Membrane:**
    -   _Default Cost:_ Free (Starting Building)
    -   _Waste Production:_ None
    -   _Unlock Condition:_ None (Starting Building)
    -   Allows the cell to exist and interact with the environment, e.g. absorbing nutrients.
-   **Mitochondrion:**
    -   _Default Cost:_ 25 Biomass
    -   _Waste Production:_ 0.1 Waste per second
    -   _Unlock Condition:_ Requires at least 5 Biomass.
    -   Generates 4 ATP and 0.25 Biomass per second by burning 1 Nutrients per second.
    -   Increases ATP storage capacity by 50.
-   **Vacuole:**
    -   _Default Cost:_ 50 Biomass
    -   _Waste Production:_ 0.05 Waste per second
    -   _Unlock Condition:_ Requires at least 30 Biomass.
    -   Increases Nutrient storage capacity by 50, and Biomass storage capacity by 75.
-   **Surface Folds:**
    -   _Default Cost:_ 100 Biomass (Can only be purchased once)
    -   _Waste Production:_ None
    -   _Unlock Condition:_ Requires at least 50 Biomass.
    -   Increases the amount of Nutrients absorbed per click by 1.
-   **Ribosome:**
    -   _Default Cost:_ 150 Biomass, 30 ATP
    -   _Waste Production:_ 0.15 Waste per second
    -   _Unlock Condition:_ Requires at least 75 Biomass and 1 Mitochondrion.
    -   Generates 2 Biomass per second by using 1 ATP and 1 Nutrient per second.
-   **Lysosome:**
    -   _Default Cost:_ 200 Biomass, 50 ATP
    -   _Waste Production:_ -2 Waste per second
    -   _Unlock Condition:_ Requires at least 100 Biomass and 1 Mitochondrion.
    -   Reduces Waste by 2 per second at the cost of 2 ATP per second.
-   **Nucleus:**
    -   _Default Cost:_ 500 Biomass, 100 ATP, 10 DNA
    -   _Waste Production:_ 0.2 Waste per second
    -   _Unlock Condition:_ Requires at least 1 DNA, as well as 1 Ribosome and 1 Lysosome.
    -   Generates 1 DNA per second by using 5 ATP and 5 Nutrients per second.
    -   Past level 1, Increases DNA storage capacity by 20.

### Evolution Paths

The following organelles define the evolutionary direction of the cell.
Only one evolutionary path may be chosen per run.
The chosen path determines the traits carried into the next stage.

---

### Photosynthesis Path — Autotrophic Lineage

-   **Chloroplast:**
    -   _Default Cost:_ 200 Biomass, 50 ATP, 25 DNA
    -   _Waste Production:_ 0.1 Waste per second
    -   _Unlock Condition:_ Requires Nucleus.
    -   Generates 0.5 Nutrients per second.
-   **Thylakoid Membrane:**
    -   _Default Cost:_ 400 Biomass, 100 ATP, 100 DNA
    -   _Waste Production:_ 0.05 Waste per second
    -   _Unlock Condition:_ Requires Chloroplast.
    -   Improves the output of Chloroplasts by 50%.
-   **Cell Wall:**
    -   _Default Cost:_ 800 Biomass, 200 ATP, 500 DNA
    -   _Unlock Condition:_ Requires Thylakoid Membrane.
    -   Unlocks Cellular Differentiation, allowing progression to the next stage.

---

### Respiration Path — Metabolic Lineage

-   **Endoplasmic Reticulum:**
    -   _Default Cost:_ 200 Biomass, 50 ATP, 25 DNA
    -   _Waste Production:_ 0.15 Waste per second
    -   _Unlock Condition:_ Requires Nucleus.
    -   Improves the output of Mitochondria by 10%.
-   **Transport Proteins:**
    -   _Default Cost:_ 400 Biomass, 100 ATP, 100 DNA
    -   _Waste Production:_ 0.1 Waste per second
    -   _Unlock Condition:_ Requires Endoplasmic Reticulum.
    -   Increases the amount of Nutrients absorbed per click by 100%.
-   **Flagellum:**
    -   _Default Cost:_ 800 Biomass, 200 ATP, 500 DNA
    -   _Unlock Condition:_ Requires Endoplasmic Reticulum.
    -   Unlocks Cellular Differentiation, allowing progression to the next stage.

---

### Decomposition Path — Saprotrophic Lineage

-   **Extracellular Digestion:**
    -   _Default Cost:_ 200 Biomass, 50 ATP, 25 DNA
    -   _Waste Production:_ 0.15 Waste per second
    -   _Unlock Condition:_ Requires Nucleus.
    -   Generates 1 Nutrients per second by consuming 0.5 Waste.
-   **Hyphae:**
    -   _Default Cost:_ 400 Biomass, 100 ATP, 100 DNA
    -   _Waste Production:_ 0.1 Waste per second
    -   _Unlock Condition:_ Requires Extracellular Digestion.
    -   Improves the output of Extracellular Digestion by 20%.
-   **Spore Production:**
    -   _Default Cost:_ 800 Biomass, 200 ATP, 500 DNA
    -   _Unlock Condition:_ Requires Hyphae.
    -   Unlocks Cellular Differentiation, allowing progression to the next stage.

---

## Upgrades

Upgrades are single-purchase enhancements that improve various aspects of the cell's performance.

### Cell Membrane Upgrades:

-   **Reinforced Membrane:**
    -   _Cost:_ 200 Biomass, 75 DNA
    -   _Unlock Condition:_ Requires Cell Membrane and DNA.
    -   Doubles the maximum storage capacity for all resources.

### Surface Folds Upgrades:

-   **Increased Surface Area:**
    -   _Cost:_ 150 Biomass, 10 DNA
    -   _Unlock Condition:_ Requires Surface Folds and DNA.
    -   Increases Nutrient absorption per click by an additional 1.
-   **Enhanced Transport:**
    -   _Cost:_ 300 Biomass, 50 DNA
    -   _Unlock Condition:_ Requires Increased Surface Area.
    -   Increases Nutrient absorption per click by an additional 2.

### Ribosome Upgrades:

-   **Protein Folding:**
    -   _Cost:_ 150 Biomass, 50 DNA
    -   _Unlock Condition:_ Requires Ribosome and DNA.
    -   Increases Biomass generation by 1 per second.
-   **Parallel Synthesis:**
    -   _Cost:_ 200 Biomass, 75 DNA
    -   _Unlock Condition:_ Requires Protein Folding.
    -   Reduces the ATP cost of Biomass generation by 0.5.
-   **Structural Proteins:**
    -   _Cost:_ 250 Biomass, 100 DNA
    -   _Unlock Condition:_ Requires Parallel Synthesis.
    -   Each Ribosome increases Biomass storage capacity by 25.

### Lysosome Upgrades:

-   **Autophagy:**
    -   _Cost:_ 150 Biomass, 75 DNA
    -   _Unlock Condition:_ Requires Lysosome and DNA.
    -   Generates 1 ATP per second when biomass is in excess.
-   **Selective Breakdown:**
    -   _Cost:_ 200 Biomass, 100 DNA
    -   _Unlock Condition:_ Requires Autophagy.
    -   Lysosomes can reduce Waste without consuming ATP.
-   **Reclamation:**
    -   _Cost:_ 250 Biomass, 125 DNA
    -   _Unlock Condition:_ Requires Selective Breakdown.
    -   Generates 0.02 DNA per second for every 1 Waste reduced.

### Nucleus Upgrades:

-   **Gene Duplication:**
    -   _Cost:_ 200 Biomass, 75 DNA
    -   _Unlock Condition:_ Requires Nucleus and DNA.
    -   Increases the maximum DNA capacity by 50.
    -   Increases DNA generation by 1 per second.
-   **Epigenetics:**
    -   _Cost:_ 250 Biomass, 100 DNA
    -   _Unlock Condition:_ Requires Gene Duplication.
    -   Each 50 Waste increases DNA generation by an additional 5%.
-   **Genome Compression:**
    -   _Cost:_ 300 Biomass, 150 DNA
    -   _Unlock Condition:_ Requires Epigenetics.
    -   Reduces DNA costs for all buildings and upgrades by 20%.

---

## Extra Notes

### Waste Calculations

Waste generation is calculated based on the number of buildings and their individual waste production rates.
Waste increases the Biomass cost of all buildings and upgrades by 1% per 10 Waste units, up to a maximum of 50% at 500 Waste.
High Waste slightly boosts mutation/DNA generation rates, encouraging players to manage Waste rather than eliminate it entirely.

### Mutation Events

Random mutation events can occur, providing temporary boosts, penalties, or free resources.
These events are influenced by the current Waste level, with higher Waste increasing the likelihood of mutations.
These mutations are the initial source of DNA to create the Nucleus organelle.
All mutation events grant 5 DNA, regardless of effect. _Some mutations may increase this amount as their effect._
Mutation chance is equal to `max(1, (Waste / 100))%` per second, with a grace period of 30 seconds.

#### Mutation Examples

**"Positive" Mutations:**

-   Increased ATP generation for 30 seconds.
-   Decreased Waste production for 30 seconds.
-   Free Biomass boost.
-   Temporary increase in Nutrient absorption rate.
-   Temporary decrease in building costs.

**"Negative" Mutations:**

-   Increased Waste production for 30 seconds.
-   Decreased ATP generation for 30 seconds.
-   Temporary reduction in Biomass generation.
-   Increased building costs for 30 seconds.

### Cellular Differentiation

Purchasing the final organelle in any evolution path unlocks Cellular Differentiation, advancing the cell to the next stage.

### Exponential Cost Scaling

All buildings and upgrades have an exponential cost scaling based on the number of that building or upgrade already owned.
The formula for cost scaling is:
`Scaled Cost = Base Cost * (1.15 ^ (Number Owned))`
This is then modified by Waste penalties as described above.
